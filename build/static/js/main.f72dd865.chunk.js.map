{"version":3,"sources":["theme/constants.js","theme/variants.js","theme/typography.js","theme/overrides.js","theme/breakpoints.js","theme/props.js","theme/shadows.js","theme/index.js","constants.js","api/request.js","config.js","api/muzsoyuz-api.js","redux/slice/user.js","hooks/useChat.js","pages/Chat/Conversation.js","pages/Chat/Message.js","pages/Chat/UsersList.js","pages/Chat/Chat.js","App.js","reportWebVitals.js","redux/slice/theme.js","redux/store.js","index.js"],"names":["THEMES","customBlue","defaultVariant","name","palette","type","primary","main","contrastText","secondary","background","default","paper","header","color","grey","search","indicator","footer","sidebar","brand","online","green","offline","red","badge","markdown","code","variants","merge","text","indigo","typography","fontFamily","join","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","h1","fontWeight","lineHeight","h2","h3","h4","h5","h6","body1","button","textTransform","overrides","MuiCard","root","borderRadius","boxShadow","MuiCardHeader","action","marginTop","marginRight","MuiPickersDay","day","MuiPickersYear","height","MuiPickersCalendar","transitionContainer","MuiPickersCalendarHeader","iconButton","backgroundColor","switchHeader","marginBottom","MuiPickersClock","container","margin","MuiPickersClockNumber","clockNumber","left","width","MuiPickerDTHeader","dateHeader","timeHeader","MuiPickersTimePicker","hourMinuteLabel","MuiPickersToolbar","toolbar","MuiChip","breakpoints","values","xs","sm","md","lg","xl","props","MuiButtonBase","disableRipple","titleTypographyProps","variant","shadows","createTheme","themeConfig","find","console","warn","Error","createMuiTheme","spacing","Event","TYPING_START","TYPING_END","SET_VIEWED","MESSAGE","CREATE_CONVERSATION","GET_CONVERSATIONS","JOIN_THE_CREATED_CONVERSATION","CONNECTED","TYPING_STARTED","NEW_MESSAGE","CHAT_ERROR","CREATED_CONVERSATION","CONNECT","USER_ACTIVE","CHAT_VIEWED","GET_USERS","ResponseError","error","status","message","METHODS","Request","url","method","headers","body","this","query","Object","keys","reduce","acc","param","i","arr","value","Array","isArray","length","includes","successHandler","errorHandler","promise","execute","then","catch","response","Response","json","isSucceededStatus","getError","Promise","reject","log","requestOptions","JSON","stringify","fetch","checkStatus","bind","config","process","MuzSoyuzRequest","token","setHeaders","Authorization","array","getApiPath","e","get","route","post","email","password","makeAuthentication","AUTH_TOKEN_KEY","initialState","profile","window","localStorage","getItem","login","createAsyncThunk","data","a","setItem","fetchProfile","getUserProfile","setToken","userSlice","createSlice","reducers","extraReducers","pending","state","fulfilled","payload","rejected","clear","location","reload","selectUser","user","useChat","useState","currentConversation","setCurrentConversation","conversationsMap","setConversationsMap","useSelector","_id","socketRef","useRef","useEffect","current","io","path","on","emit","fetchConversations","chatId","map","nextMap","cloneDeep","typing","typingStartedAt","Date","now","setTimeout","alert","conversation","messages","forEach","m","viewed","userId","isActive","lastSeen","cloned","addNewMessage","fetchConversation","disconnect","conversations","keyBy","id","push","senderId","sendMessage","chatMessage","changeConversation","roomId","some","createConversation","fetchUsers","cb","getConversations","setTyping","Conversation","onClick","selected","Status","styled","Badge","theme","common","white","unreadCount","sumBy","Number","ListItem","ListItemIcon","overlap","anchorOrigin","vertical","horizontal","Avatar","alt","src","imageURL","ListItemText","style","overflow","toLocaleTimeString","badgeContent","MoreHoriz","hasUnreadParticipantsUnread","Done","DoneAll","getConversationStatus","ChatMessage","div","position","ChatMessageInner","ChatMessageTime","Typography","ChatMessageBubble","highlighted","hover","Message","time","useStyles","makeStyles","maxWidth","maxHeight","nested","paddingLeft","UsersList","classes","React","open","setOpen","users","setUsers","List","component","aria-labelledby","className","GroupAdd","Collapse","in","timeout","unmountOnExit","disablePadding","Divider","MuiDivider","TextField","MuiTextField","ChatContainer","Grid","ChatSidebar","divider","ChatMain","ChatMessages","ChatInput","logout","ChatWindow","dispatch","useDispatch","authStatus","authError","chatInput","setChatInput","selectedConversationId","setSelectedConversationId","prompt","handleMessageSend","Card","item","marginLeft","Box","p","Button","cursor","createdAt","flexGrow","autoFocus","onChange","target","onKeyUp","event","key","label","fullWidth","ml","Fab","aria-label","size","Chat","Fragment","Helmet","title","App","muiTheme","currentTheme","StylesProvider","injectFirst","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","themeSlice","setTheme","actions","store","configureStore","reducer","themeReducer","userReducer","devTools","preloadedState","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f72dd865.chunk.js","sourcesContent":["export const THEMES = {\n  DEFAULT: \"DEFAULT\",\n  DARK: \"DARK\",\n  LIGHT: \"LIGHT\",\n  BLUE: \"BLUE\",\n  GREEN: \"GREEN\",\n  INDIGO: \"INDIGO\",\n};\n","import merge from \"deepmerge\";\nimport { green, grey, indigo, red } from \"@material-ui/core/colors\";\nimport { THEMES } from \"./constants\";\n\nconst customBlue = {\n  50: \"#e9f0fb\",\n  100: \"#c8daf4\",\n  200: \"#a3c1ed\",\n  300: \"#7ea8e5\",\n  400: \"#6395e0\",\n  500: \"#4782da\",\n  600: \"#407ad6\",\n  700: \"#376fd0\",\n  800: \"#2f65cb\",\n  900: \"#2052c2\",\n};\n\nconst defaultVariant = {\n  name: THEMES.DEFAULT,\n  palette: {\n    type: \"light\",\n    primary: {\n      main: customBlue[700],\n      contrastText: \"#FFF\",\n    },\n    secondary: {\n      main: customBlue[500],\n      contrastText: \"#FFF\",\n    },\n    background: {\n      default: \"#F7F9FC\",\n      paper: \"#FFF\",\n    },\n  },\n  header: {\n    color: grey[500],\n    background: \"#FFF\",\n    search: {\n      color: grey[800],\n    },\n    indicator: {\n      background: customBlue[600],\n    },\n  },\n  footer: {\n    color: grey[500],\n    background: \"#FFF\",\n  },\n  sidebar: {\n    color: grey[200],\n    background: \"#233044\",\n    header: {\n      color: grey[200],\n      background: \"#233044\",\n      brand: {\n        color: customBlue[500],\n      },\n    },\n    footer: {\n      color: grey[200],\n      background: \"#1E2A38\",\n      online: {\n        background: green[500],\n      },\n      offline: {\n        background: red[500],\n      },\n    },\n    badge: {\n      color: \"#FFF\",\n      background: customBlue[500],\n    },\n  },\n  markdown: {\n    code: {\n      background: \"rgba(27, 31, 35, 0.05)\",\n      color: \"rgb(36, 41, 46)\",\n    },\n  },\n};\n\nconst darkVariant = merge(defaultVariant, {\n  name: THEMES.DARK,\n  palette: {\n    type: \"dark\",\n    primary: {\n      main: customBlue[600],\n      contrastText: \"#FFF\",\n    },\n    background: {\n      default: \"#1B2635\",\n      paper: \"#233044\",\n    },\n    text: {\n      primary: \"rgba(255, 255, 255, 0.95)\",\n      secondary: \"rgba(255, 255, 255, 0.5)\",\n    },\n  },\n  header: {\n    color: grey[300],\n    background: \"#1B2635\",\n    search: {\n      color: grey[200],\n    },\n  },\n  footer: {\n    color: grey[300],\n    background: \"#233044\",\n  },\n  markdown: {\n    code: {\n      background: \"rgba(240,246,252,0.15)\",\n      color: \"rgb(201, 209, 217)\",\n    },\n  },\n});\n\nconst lightVariant = merge(defaultVariant, {\n  name: THEMES.LIGHT,\n  palette: {\n    type: \"light\",\n  },\n  header: {\n    color: grey[200],\n    background: customBlue[800],\n    search: {\n      color: grey[100],\n    },\n    indicator: {\n      background: red[700],\n    },\n  },\n  sidebar: {\n    color: grey[900],\n    background: \"#FFF\",\n    header: {\n      color: \"#FFF\",\n      background: customBlue[800],\n      brand: {\n        color: \"#FFFFFF\",\n      },\n    },\n    footer: {\n      color: grey[800],\n      background: \"#F7F7F7\",\n      online: {\n        background: green[500],\n      },\n    },\n  },\n});\n\nconst blueVariant = merge(defaultVariant, {\n  name: THEMES.BLUE,\n  palette: {\n    type: \"light\",\n  },\n  sidebar: {\n    color: \"#FFF\",\n    background: customBlue[700],\n    header: {\n      color: \"#FFF\",\n      background: customBlue[800],\n      brand: {\n        color: \"#FFFFFF\",\n      },\n    },\n    footer: {\n      color: \"#FFF\",\n      background: customBlue[800],\n      online: {\n        background: \"#FFF\",\n      },\n    },\n    badge: {\n      color: \"#000\",\n      background: \"#FFF\",\n    },\n  },\n});\n\nconst greenVariant = merge(defaultVariant, {\n  name: THEMES.GREEN,\n  palette: {\n    primary: {\n      main: green[800],\n      contrastText: \"#FFF\",\n    },\n    secondary: {\n      main: green[500],\n      contrastText: \"#FFF\",\n    },\n  },\n  header: {\n    indicator: {\n      background: green[600],\n    },\n  },\n  sidebar: {\n    color: \"#FFF\",\n    background: green[700],\n    header: {\n      color: \"#FFF\",\n      background: green[800],\n      brand: {\n        color: \"#FFFFFF\",\n      },\n    },\n    footer: {\n      color: \"#FFF\",\n      background: green[800],\n      online: {\n        background: \"#FFF\",\n      },\n    },\n    badge: {\n      color: \"#000\",\n      background: \"#FFF\",\n    },\n  },\n});\n\nconst indigoVariant = merge(defaultVariant, {\n  name: THEMES.INDIGO,\n  palette: {\n    primary: {\n      main: indigo[600],\n      contrastText: \"#FFF\",\n    },\n    secondary: {\n      main: indigo[400],\n      contrastText: \"#FFF\",\n    },\n  },\n  header: {\n    indicator: {\n      background: indigo[600],\n    },\n  },\n  sidebar: {\n    color: \"#FFF\",\n    background: indigo[700],\n    header: {\n      color: \"#FFF\",\n      background: indigo[800],\n      brand: {\n        color: \"#FFFFFF\",\n      },\n    },\n    footer: {\n      color: \"#FFF\",\n      background: indigo[800],\n      online: {\n        background: \"#FFF\",\n      },\n    },\n    badge: {\n      color: \"#000\",\n      background: \"#FFF\",\n    },\n  },\n});\n\nconst variants = [\n  defaultVariant,\n  darkVariant,\n  lightVariant,\n  blueVariant,\n  greenVariant,\n  indigoVariant,\n];\n\nexport default variants;\n","const typography = {\n  fontFamily: [\n    \"Inter\",\n    \"-apple-system\",\n    \"BlinkMacSystemFont\",\n    '\"Segoe UI\"',\n    \"Roboto\",\n    '\"Helvetica Neue\"',\n    \"Arial\",\n    \"sans-serif\",\n    '\"Apple Color Emoji\"',\n    '\"Segoe UI Emoji\"',\n    '\"Segoe UI Symbol\"',\n  ].join(\",\"),\n  fontSize: 13,\n  fontWeightLight: 300,\n  fontWeightRegular: 400,\n  fontWeightMedium: 500,\n  fontWeightBold: 600,\n  h1: {\n    fontSize: \"2rem\",\n    fontWeight: 600,\n    lineHeight: 1.25,\n  },\n  h2: {\n    fontSize: \"1.75rem\",\n    fontWeight: 600,\n    lineHeight: 1.25,\n  },\n  h3: {\n    fontSize: \"1.5rem\",\n    fontWeight: 600,\n    lineHeight: 1.25,\n  },\n  h4: {\n    fontSize: \"1.125rem\",\n    fontWeight: 500,\n    lineHeight: 1.25,\n  },\n  h5: {\n    fontSize: \"1.0625rem\",\n    fontWeight: 500,\n    lineHeight: 1.25,\n  },\n  h6: {\n    fontSize: \"1rem\",\n    fontWeight: 500,\n    lineHeight: 1.25,\n  },\n  body1: {\n    fontSize: 13,\n  },\n  button: {\n    textTransform: \"none\",\n  },\n};\n\nexport default typography;\n","const overrides = {\n  MuiCard: {\n    root: {\n      borderRadius: \"6px\",\n      boxShadow:\n        \"rgba(50, 50, 93, 0.025) 0px 2px 5px -1px, rgba(0, 0, 0, 0.05) 0px 1px 3px -1px\",\n    },\n  },\n  MuiCardHeader: {\n    action: {\n      marginTop: \"-4px\",\n      marginRight: \"-4px\",\n    },\n  },\n  MuiPickersDay: {\n    day: {\n      fontWeight: \"300\",\n    },\n  },\n  MuiPickersYear: {\n    root: {\n      height: \"64px\",\n    },\n  },\n  MuiPickersCalendar: {\n    transitionContainer: {\n      marginTop: \"6px\",\n    },\n  },\n  MuiPickersCalendarHeader: {\n    iconButton: {\n      backgroundColor: \"transparent\",\n      \"& > *\": {\n        backgroundColor: \"transparent\",\n      },\n    },\n    switchHeader: {\n      marginTop: \"2px\",\n      marginBottom: \"4px\",\n    },\n  },\n  MuiPickersClock: {\n    container: {\n      margin: `32px 0 4px`,\n    },\n  },\n  MuiPickersClockNumber: {\n    clockNumber: {\n      left: `calc(50% - 16px)`,\n      width: \"32px\",\n      height: \"32px\",\n    },\n  },\n  MuiPickerDTHeader: {\n    dateHeader: {\n      \"& h4\": {\n        fontSize: \"2.125rem\",\n        fontWeight: 400,\n      },\n    },\n    timeHeader: {\n      \"& h3\": {\n        fontSize: \"3rem\",\n        fontWeight: 400,\n      },\n    },\n  },\n  MuiPickersTimePicker: {\n    hourMinuteLabel: {\n      \"& h2\": {\n        fontSize: \"3.75rem\",\n        fontWeight: 300,\n      },\n    },\n  },\n  MuiPickersToolbar: {\n    toolbar: {\n      \"& h4\": {\n        fontSize: \"2.125rem\",\n        fontWeight: 400,\n      },\n    },\n  },\n  MuiChip: {\n    root: {\n      borderRadius: \"6px\",\n    },\n  },\n};\n\nexport default overrides;\n","const breakpoints = {\n  values: {\n    xs: 0,\n    sm: 600,\n    md: 960,\n    lg: 1280,\n    xl: 1440,\n  },\n};\n\nexport default breakpoints;\n","const props = {\n  MuiButtonBase: {\n    disableRipple: true,\n  },\n  MuiCardHeader: {\n    titleTypographyProps: { variant: \"h6\" },\n  },\n};\n\nexport default props;\n","function createShadow() {\n  return `box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.05);`;\n}\n\nconst shadows = [\n  \"none\",\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n  createShadow(),\n];\n\nexport default shadows;\n","import { createMuiTheme } from \"@material-ui/core/styles\";\nimport variants from \"./variants\";\nimport typography from \"./typography\";\nimport overrides from \"./overrides\";\nimport breakpoints from \"./breakpoints\";\nimport props from \"./props\";\nimport shadows from \"./shadows\";\n\nconst createTheme = (name) => {\n  let themeConfig = variants.find((variant) => variant.name === name);\n\n  if (!themeConfig) {\n    console.warn(new Error(`The theme ${name} is not valid`));\n    themeConfig = variants[0];\n  }\n\n  return createMuiTheme(\n    {\n      spacing: 4,\n      breakpoints: breakpoints,\n      overrides: overrides,\n      props: props,\n      typography: typography,\n      shadows: shadows,\n      palette: themeConfig.palette,\n    },\n    {\n      name: themeConfig.name,\n      header: themeConfig.header,\n      footer: themeConfig.footer,\n      sidebar: themeConfig.sidebar,\n      markdown: themeConfig.markdown,\n    }\n  );\n};\n\nexport default createTheme;\n","const ClientEvent = {\n  TYPING_START                 : 'typingStart',\n  TYPING_END                   : 'typingEnd',\n  SET_VIEWED                   : 'setViewed',\n  MESSAGE                      : 'message',\n  CREATE_CONVERSATION          : 'createConversation',\n  GET_CONVERSATIONS            : 'getConversations',\n  JOIN_THE_CREATED_CONVERSATION: 'joinTheCreatedConversation',\n  CONNECTED                    : 'connected',\n}\n\nconst ServerEvent = {\n  TYPING_STARTED      : 'typingStarted',\n  NEW_MESSAGE         : 'newMessage',\n  CHAT_ERROR          : 'chatError',\n  CREATED_CONVERSATION: 'createdConversation',\n  CONNECT             : 'connect',\n  USER_ACTIVE         : 'userActive',\n  CHAT_VIEWED         : 'chatViewed',\n  GET_USERS           : 'getUsers',\n}\n\nconst Event = {\n  ...ClientEvent,\n  ...ServerEvent,\n}\n\nexport default Event","class ResponseError extends Error {\n  constructor(error) {\n    super()\n\n    this.error = error\n    this.status = this.error?.status\n    this.message = this.error?.message\n  }\n}\n\nconst METHODS = {\n  GET   : 'GET',\n  POST  : 'POST',\n  PUT   : 'PUT',\n  DELETE: 'DELETE',\n  PATCH : 'PATCH',\n}\n\nexport class Request {\n  constructor({ url, method, headers, body }) {\n    this.method = method\n    this.url = url\n    this.headers = headers || {}\n    this.body = body || {}\n  }\n\n  setHeaders(headers) {\n    this.headers = {\n      ...this.headers,\n      ...headers,\n    }\n\n    return this\n  }\n\n  query(query) {\n    this.url += Object.keys(query).reduce(\n      (acc, param, i, arr) => {\n        const value = Array.isArray(query[param]) ? query[param].join(',') : query[param]\n\n        acc += `${param}=${value}`\n\n        i !== arr.length - 1 && (acc += '&')\n\n        return acc\n      }, this.url.includes('?') ? '&' : '?'\n    )\n\n    return this\n  }\n\n  static get(url) {\n    return new this({\n      url,\n      method: METHODS.GET\n    })\n  }\n\n  static post(url, body) {\n    return new this({\n      url,\n      body,\n      method: METHODS.POST\n    })\n  }\n\n  static put(url, body) {\n    return new this({\n      url,\n      body,\n      method: METHODS.PUT\n    })\n  }\n\n  static delete(url) {\n    return new this({\n      url,\n      method: METHODS.DELETE\n    })\n  }\n\n  static patch(url, body) {\n    return new this({\n      url,\n      body,\n      method: METHODS.PATCH\n    })\n  }\n\n  then(successHandler, errorHandler) {\n    this.promise = this.promise || this.execute()\n\n    return this.promise.then(successHandler, errorHandler)\n  }\n\n  catch(errorHandler) {\n    this.promise = this.promise || this.execute()\n\n    return this.promise.catch(errorHandler)\n  }\n\n  async getError(response) {\n    if (response.status === 502) {\n      return 'No connection with server'\n    }\n\n    return response instanceof Response\n      ? response.json()\n      : response\n  }\n\n  isSucceededStatus(response) {\n    return response.status >= 200 && response.status < 300\n  }\n\n  async checkStatus(response) {\n    if (this.isSucceededStatus(response)) {\n      return response\n    }\n\n    const error = await this.getError(response)\n\n    return Promise.reject(new ResponseError(error))\n  }\n\n  async execute() {\n    console.log(this.url)\n\n    const requestOptions = {\n      method : this.method,\n      headers: this.headers,\n    }\n\n    if (Object.keys(this.body).length) {\n      requestOptions.body = JSON.stringify(this.body)\n      requestOptions.headers['Content-Type'] = 'application/json'\n    }\n\n    return fetch(this.url, requestOptions)\n      .then(this.checkStatus.bind(this))\n      .then(response => response.json())\n  }\n}","class Config {\n  getApiPath() {\n    return process.env.REACT_APP_HOST + process.env.REACT_APP_API_PREFIX\n  }\n}\n\nexport const config = new Config()","import {Request} from './request'\nimport {config} from \"../config\"\n\nexport class MuzSoyuzRequest extends Request {\n  setToken(token) {\n    this.setHeaders({\n      Authorization: `Bearer ${token}`,\n    })\n\n    return this\n  }\n\n  static getUserProfile() {\n    return this.get('/user')\n  }\n\n  static makeAuthentication(route, body) {\n    return this.post(`/auth/${route}`, body)\n  }\n\n  static login(email, password) {\n    return this.makeAuthentication('signIn', { email, password })\n  }\n\n  props(array) {\n    this.body.props = array\n\n    return this\n  }\n\n  isSucceededStatus(response) {\n    return !response.status || super.isSucceededStatus(response)\n  }\n\n  async execute() {\n    this.url = config.getApiPath() + this.url\n\n    return super.execute()\n      .then(this.checkStatus.bind(this))\n      .catch(e => {\n        e.message = Array.isArray(e.message)\n          ? e.message.join(', ')\n          : e.message\n\n        throw e\n      })\n  }\n}","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\"\nimport { MuzSoyuzRequest } from \"../../api/muzsoyuz-api\"\n\nconst AUTH_TOKEN_KEY = \"Authorization\"\n\nconst initialState = {\n  profile: null,\n  token  : window.localStorage.getItem(AUTH_TOKEN_KEY),\n  status : \"idle\",\n  error  : null,\n}\n\nexport const login = createAsyncThunk(\"post/login\", async (data) => {\n  const response = await MuzSoyuzRequest.login(data.email, data.password)\n\n  window.localStorage.setItem(AUTH_TOKEN_KEY, response.token)\n\n  return response\n})\n\nexport const fetchProfile = createAsyncThunk(\"get/profile\", () => {\n  return MuzSoyuzRequest.getUserProfile()\n    .setToken(window.localStorage.getItem(AUTH_TOKEN_KEY))\n})\n\nconst userSlice = createSlice({\n  name         : \"user\",\n  initialState,\n  reducers     : {},\n  extraReducers: {\n    [login.pending]         : state => {\n      state.status = \"loading\"\n    },\n    [login.fulfilled]       : (state, action) => {\n      state.token = action.payload.token\n      state.profile = action.payload.profile\n      state.status = \"succeeded\"\n      state.error = null\n    },\n    [login.rejected]        : (state, action) => {\n      state.token = null\n      state.profile = null\n      state.status = \"failed\"\n      state.error = action.error && action.error.message\n    },\n    [fetchProfile.pending]  : state => {\n      state.profile = {\n        status: 'loading',\n      }\n    },\n    [fetchProfile.fulfilled]: (state, action) => {\n      state.profile = {\n        status: \"succeeded\",\n        error : null,\n        ...action.payload,\n      }\n    },\n    [fetchProfile.rejected] : (state, action) => {\n      state.profile = {\n        status: \"failed\",\n        error : action.error && action.error.message\n      }\n\n      if (action?.error?.message === 'Unauthorized') {\n        window.localStorage.clear()\n        window.location.reload()\n      }\n    },\n  },\n})\n\nexport default userSlice.reducer\n\nexport const selectUser = (state) => state.user\n","import { io } from \"socket.io-client\"\nimport { useEffect, useRef, useState } from 'react'\nimport e from \"../constants\"\nimport keyBy from 'lodash/keyBy'\nimport cloneDeep from 'lodash/cloneDeep'\nimport { useSelector } from \"react-redux\"\nimport { selectUser } from \"../redux/slice/user\"\n\nconst SECOND = 1000\n\nconst useChat = token => {\n  const [currentConversation, setCurrentConversation] = useState(null)\n  const [conversationsMap, setConversationsMap] = useState({})\n\n  const { profile } = useSelector(selectUser)\n\n  token = profile?._id && token\n\n  /**\n   * @type {{ current: Socket }}\n   */\n  const socketRef = useRef()\n\n  useEffect(() => {\n    socketRef.current = io(process.env.REACT_APP_HOST, {\n      query: { token },\n      path : '/api/v2/chat',\n    })\n\n    socketRef.current.on(e.CONNECT, () => {\n      socketRef.current.emit(e.CONNECTED, fetchConversations)\n    })\n\n    socketRef.current.on(e.TYPING_STARTED, chatId => {\n      setConversationsMap(map => {\n        const nextMap = cloneDeep(map)\n\n        nextMap[chatId].typing = true\n        nextMap[chatId].typingStartedAt = Date.now()\n\n        return nextMap\n      })\n\n      setTimeout(() => {\n        setConversationsMap(map => {\n          let nextMap = map\n\n          if (Date.now() - nextMap[chatId].typingStartedAt > SECOND) {\n            nextMap = cloneDeep(map)\n\n            nextMap[chatId].typing = false\n          }\n\n          return nextMap\n        })\n      }, SECOND)\n    })\n\n    socketRef.current.on(e.CHAT_ERROR, error => alert(error.message))\n    socketRef.current.on(e.CHAT_VIEWED, chatId => {\n      setConversationsMap(map => {\n        const nextMap = cloneDeep(map)\n\n        const conversation = nextMap[chatId]\n\n        conversation.messages.forEach(m => {\n          m.viewed = true\n        })\n\n        setCurrentConversation(currentConversation => {\n          return conversation._id === currentConversation?._id\n            ? conversation\n            : currentConversation\n        })\n\n        return nextMap\n      })\n    })\n\n    socketRef.current.on(e.USER_ACTIVE, ({ _id: userId, isActive, lastSeen }) => {\n      console.log({ userId, isActive })\n\n      setConversationsMap(map => {\n        const cloned = cloneDeep(map)\n\n        for (const conversation of Object.values(cloned)) {\n          if (conversation.user._id === userId) {\n            conversation.user.isActive = isActive\n            conversation.user.lastSeen = lastSeen\n\n            break\n          }\n        }\n\n        return cloned\n      })\n    })\n\n    socketRef.current.on(e.NEW_MESSAGE, addNewMessage)\n    socketRef.current.on(e.CREATED_CONVERSATION, fetchConversation)\n\n    return () => socketRef.current.disconnect()\n  }, [profile])\n\n  const sendMessage = chatMessage => {\n    socketRef.current.emit(e.MESSAGE, chatMessage)\n  }\n\n  const changeConversation = roomId => {\n    setConversationsMap(map => {\n      setCurrentConversation(map[roomId])\n\n      const hasUnViewed = map[roomId].messages.some(m => m.senderId !== profile._id)\n\n      hasUnViewed && socketRef.current.emit(e.SET_VIEWED, roomId)\n\n      return map\n    })\n  }\n\n  const createConversation = userId => {\n    socketRef.current.emit(e.CREATE_CONVERSATION, userId)\n  }\n\n  const fetchConversations = () => {\n    socketRef.current.emit(e.GET_CONVERSATIONS, conversations => {\n      setConversationsMap(keyBy(conversations, '_id'))\n    })\n  }\n\n  const fetchConversation = id => {\n    const onResponse = conversation => {\n      setConversationsMap(map => {\n        const nextMap = cloneDeep(map)\n\n        nextMap[id] = conversation\n\n        return nextMap\n      })\n    }\n\n    socketRef.current.emit(e.JOIN_THE_CREATED_CONVERSATION, id, onResponse)\n  }\n\n  const addNewMessage = message => {\n    setConversationsMap(map => {\n      const nextMap = cloneDeep(map)\n\n      const conversation = nextMap[message.chatId]\n\n      conversation.messages.push(message)\n\n      setCurrentConversation(currentConversation => {\n        if (conversation._id === currentConversation?._id) {\n          conversation.user._id === message.senderId\n          && socketRef.current.emit(e.SET_VIEWED, message.chatId)\n\n          return conversation\n        }\n\n        return currentConversation\n      })\n\n\n      nextMap[message.chatId] = conversation\n\n      return nextMap\n    })\n  }\n\n  const getConversations = () => {\n    return Object.values(conversationsMap)\n  }\n\n  const setTyping = chatId => {\n    socketRef.current.emit(e.TYPING_START, chatId)\n  }\n\n  const fetchUsers = cb => {\n    socketRef.current.emit(e.GET_USERS, cb)\n  }\n\n  return {\n    currentConversation,\n    sendMessage,\n    changeConversation,\n    createConversation,\n    fetchConversations,\n    fetchUsers,\n    getConversations,\n    setTyping,\n  }\n}\n\nexport default useChat","import sumBy from \"lodash/sumBy\"\nimport { Done, DoneAll, MoreHoriz } from \"@material-ui/icons\"\nimport { Avatar, Badge, ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\"\nimport React from \"react\"\nimport styled from \"styled-components/macro\"\n\nconst getStatusBadge = isActive => styled(Badge)`\n  margin-right: ${(props) => props.theme.spacing(1)}px;\n  span {\n    background-color: ${(props) =>\n  props.theme.sidebar.footer[isActive ? 'online' : 'offline'].background};\n    border: 1.5px solid ${(props) => props.theme.palette.common.white};\n    height: 12px;\n    width: 12px;\n    border-radius: 50%;\n  }\n`\n\nexport default function Conversation({ conversation, onClick, profile, selected }) {\n  const Status = getStatusBadge(conversation.user.isActive)\n\n  const byUnreadMessages = ({ viewed, senderId }) => {\n    return Number(!viewed && senderId !== profile._id)\n  }\n\n  const unreadCount = sumBy(conversation.messages, byUnreadMessages)\n\n  const getConversationStatus = () => {\n    if (conversation.typing) {\n      return <MoreHoriz/>\n    }\n\n    if (!unreadCount) {\n      const hasUnreadParticipantsUnread = conversation.messages\n        .some(({ senderId, viewed }) => !viewed && senderId === profile._id)\n\n      if (!conversation.messages.some(m => m.senderId === profile._id)) {\n        return null\n      }\n\n      return hasUnreadParticipantsUnread\n        ? <Done/>\n        : <DoneAll/>\n    }\n\n    return null\n  }\n\n  return (\n    <ListItem\n      selected={selected}\n      button\n      onClick={onClick}>\n      <ListItemIcon>\n        <Status\n          overlap=\"circle\"\n          anchorOrigin={{\n            vertical  : \"bottom\",\n            horizontal: \"right\",\n          }}\n          variant=\"dot\"\n        >\n          <Avatar\n            alt={conversation.user.email}\n            src={conversation.user.imageURL}\n          />\n        </Status>\n      </ListItemIcon>\n      <ListItemText\n        style={{ overflow: 'hidden' }}\n        primary={conversation.user.email || \"Guest\"}\n        secondary={\n          !conversation.user.isActive\n          && `Last seen: ${new Date(conversation.user.lastSeen).toLocaleTimeString()}`}\n      />\n      <Badge\n        badgeContent={unreadCount}\n        color=\"secondary\"\n      />\n      {getConversationStatus()}\n    </ListItem>\n  )\n}","import React from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { Done, DoneAll } from \"@material-ui/icons\"\nimport styled from \"styled-components/macro\"\n\nconst ChatMessage = styled.div`\n  margin: 30px;\n  text-align: ${(props) => props.position};\n`\n\nconst ChatMessageInner = styled.div`\n  display: inline-block;\n`\n\nconst ChatMessageTime = styled(Typography)`\n  text-align: right;\n  opacity: 0.8;\n`\n\nconst ChatMessageBubble = styled.div`\n  display: inline-block;\n  margin-right: auto;\n  background: ${(props) =>\n  props.highlighted\n    ? props.theme.palette.secondary.main\n    : props.theme.palette.action.hover};\n  color: ${(props) =>\n  props.highlighted\n    ? props.theme.palette.common.white\n    : props.theme.palette.text.primary};\n  border-radius: 3px;\n  padding: ${(props) => props.theme.spacing(2)}px;\n  margin-bottom: ${(props) => props.theme.spacing(1)}px;\n  ${(props) => props.theme.shadows[1]};\n`\n\nexport default function Message({\n  message,\n  viewed,\n  time,\n  position = \"left\",\n}) {\n  return (\n    <ChatMessage position={position}>\n      <ChatMessageInner>\n        <ChatMessageBubble highlighted={position === \"right\"}>\n          <Typography variant=\"body2\">{message}</Typography>\n        </ChatMessageBubble>\n        {viewed ? <DoneAll/> : <Done/>}\n        <ChatMessageTime variant=\"body2\">{time}</ChatMessageTime>\n      </ChatMessageInner>\n    </ChatMessage>\n  )\n}","import React, { useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Collapse from '@material-ui/core/Collapse'\nimport ExpandLess from '@material-ui/icons/ExpandLess'\nimport ExpandMore from '@material-ui/icons/ExpandMore'\nimport { GroupAdd } from \"@material-ui/icons\"\nimport { Avatar } from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n  root  : {\n    width          : '100%',\n    maxWidth       : 360,\n    backgroundColor: theme.palette.background.paper,\n    position       : 'relative',\n    overflow       : 'auto',\n    maxHeight      : 300,\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n}))\n\nexport default function UsersList({ fetchUsers, onClick }) {\n  const classes = useStyles()\n  const [open, setOpen] = React.useState(false)\n  const [users, setUsers] = React.useState(null)\n\n  useEffect(() => {\n    if (!users) {\n      fetchUsers(users => setUsers(users))\n    }\n  }, [users, open])\n\n  const handleClick = () => {\n    setOpen(!open)\n  }\n\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      className={classes.root}\n    >\n      <ListItem button onClick={handleClick}>\n        <ListItemIcon>\n          <GroupAdd/>\n        </ListItemIcon>\n        <ListItemText primary=\"Add Conversation\"/>\n        {open ? <ExpandLess/> : <ExpandMore/>}\n      </ListItem>\n      <Collapse\n        in={open}\n        timeout=\"auto\"\n        unmountOnExit\n      >\n        <List component=\"div\" disablePadding>\n          {\n            (users || []).map(user => (\n              <ListItem\n                button\n                onClick={onClick(user._id)}\n                className={classes.nested}\n              >\n                <ListItemIcon>\n                  <Avatar\n                    alt={user.email}\n                    src={user.imageURL}\n                  />\n                </ListItemIcon>\n                <ListItemText primary={user.email}/>\n              </ListItem>\n            ))\n          }\n        </List>\n      </Collapse>\n    </List>\n  )\n}","import React, { useEffect, useState } from \"react\"\nimport { Helmet } from \"react-helmet\"\nimport {\n  Box,\n  Grid,\n  Card,\n  TextField as MuiTextField,\n  List,\n  Fab,\n  Divider as MuiDivider,\n} from \"@material-ui/core\"\n\nimport { spacing } from \"@material-ui/system\"\nimport styled from \"styled-components/macro\"\nimport SendIcon from \"@material-ui/icons/Send\"\nimport useChat from \"../../hooks/useChat\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { fetchProfile, login, selectUser } from \"../../redux/slice/user\"\nimport Button from \"@material-ui/core/Button\"\nimport Conversation from \"./Conversation\"\nimport Message from \"./Message\"\nimport UsersList from \"./UsersList\"\n\nconst Divider = styled(MuiDivider)(spacing)\n\nconst TextField = styled(MuiTextField)(spacing)\n\nconst ChatContainer = styled(Grid)`\n  width: 100%;\n  height: 100vh;\n`\n\nconst ChatSidebar = styled(Grid)`\n  border-right: 1px solid ${(props) => props.theme.palette.divider};\n`\n\nconst ChatMain = styled(Grid)``\n\nconst ChatMessages = styled.div`\n  overflow-y: scroll;\n  height: calc(100vh - 94px);\n`\n\nconst ChatInput = styled(Grid)`\n  min-height: 94px;\n  padding: ${(props) => props.theme.spacing(5)}px;\n`\n\nconst logout = () => {\n  window.localStorage.clear()\n  window.location.reload()\n}\n\nfunction ChatWindow() {\n  const dispatch = useDispatch()\n\n  const { status: authStatus, profile, token, error: authError } = useSelector(selectUser)\n\n  const {\n    currentConversation,\n    sendMessage,\n    createConversation,\n    changeConversation,\n    getConversations,\n    setTyping,\n    fetchUsers,\n  } = useChat(token)\n\n  const [chatInput, setChatInput] = useState('')\n  const [selectedConversationId, setSelectedConversationId] = useState(null)\n  const conversations = getConversations()\n\n  useEffect(() => {\n    if (authStatus === 'idle' && !token) {\n      dispatch(login({\n        email   : prompt('Email'),\n        password: prompt('Password'),\n      }))\n    }\n\n    if (token && !profile?.status) {\n      dispatch(fetchProfile())\n    }\n  }, [token, profile, currentConversation])\n\n  const handleMessageSend = () => {\n    if (!chatInput) {\n      return alert('Empty input')\n    }\n\n    if (!currentConversation?._id) {\n      return alert('No one conversation set')\n    }\n\n    sendMessage({\n      text  : chatInput,\n      chatId: currentConversation._id,\n    })\n\n    setChatInput('')\n  }\n\n  const handleEnterPress = event => {\n    if (event.key === 'Enter') {\n      handleMessageSend()\n    }\n  }\n\n  if (authStatus !== 'idle' && (!profile || !token || authError)) {\n    return <h1>Error: {authError || \"Unknown Error\"}</h1>\n  }\n\n  if (profile?.status !== 'succeeded') {\n    return <h1>Wait a minute</h1>\n  }\n\n  const handleCreateRoom = userId => () => {\n    createConversation(userId)\n  }\n\n  const handleTyping = e => {\n    currentConversation && setTyping(currentConversation._id)\n\n    setChatInput(e.target.value)\n  }\n\n  return (\n    <ChatContainer container component={Card}>\n      <ChatSidebar item xs={12} md={4} lg={3}>\n        <p style={{ marginLeft: 10 }}>\n          {`Hello ${profile?.email}`}\n        </p>\n        <Grid item xs={12}>\n          <Box p={2}>\n            <UsersList\n              onClick={handleCreateRoom}\n              fetchUsers={fetchUsers}\n            />\n          </Box>\n        </Grid>\n        <Divider/>\n        <List>\n          {\n            conversations.map((item, i) => (\n              <Conversation\n                key={`conversation-${i}`}\n                conversation={item}\n                selected={selectedConversationId === item._id}\n                profile={profile}\n                onClick={() => {\n                  changeConversation(item._id)\n                  setSelectedConversationId(item._id)\n                }}\n              />\n            ))\n          }\n        </List>\n        <Box p={2}>\n          <Button\n            style={{ cursor: 'pointer', color: 'red' }} onClick={logout}>\n            Logout\n          </Button>\n        </Box>\n      </ChatSidebar>\n      <ChatMain item xs={12} md={8} lg={9}>\n        <ChatMessages>\n          {(currentConversation?.messages || []).map(\n            ({ senderId, text, viewed, createdAt }, i) => (\n              <Message\n                key={`message-${i}`}\n                name={senderId === profile._id ? 'I' : senderId}\n                message={text}\n                viewed={viewed}\n                time={new Date(createdAt).toLocaleTimeString()}\n                position={senderId === profile._id ? 'right' : 'left'}\n              />\n            )\n          )}\n        </ChatMessages>\n        <Divider/>\n        <ChatInput container>\n          <Grid item style={{ flexGrow: 1 }}>\n            <TextField\n              autoFocus={true}\n              onChange={handleTyping}\n              onKeyUp={handleEnterPress}\n              value={chatInput}\n              variant=\"outlined\"\n              label=\"Type your message\"\n              fullWidth\n            />\n          </Grid>\n          <Grid item>\n            <Box ml={2}>\n              <Fab color=\"primary\" aria-label=\"add\" size=\"medium\">\n                <SendIcon onClick={handleMessageSend}/>\n              </Fab>\n            </Box>\n          </Grid>\n        </ChatInput>\n      </ChatMain>\n    </ChatContainer>\n  )\n}\n\nfunction Chat() {\n  return (\n    <React.Fragment>\n      <Helmet title=\"Chat\"/>\n      <ChatWindow/>\n    </React.Fragment>\n  )\n}\n\nexport default Chat\n","import React from \"react\"\nimport './App.css';\nimport createTheme from \"./theme\";\nimport Chat from \"./pages/Chat/Chat\"\n\nimport { useSelector } from \"react-redux\";\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\";\nimport { StylesProvider } from \"@material-ui/styles\";\nimport { ThemeProvider } from \"styled-components\";\n\nfunction App() {\n  const theme = useSelector((state) => state.theme);\n  const muiTheme = createTheme(theme.currentTheme);\n\n  return (\n    <React.Fragment>\n      <StylesProvider injectFirst>\n        <MuiThemeProvider theme={muiTheme}>\n          <ThemeProvider theme={muiTheme}>\n            <Chat/>\n          </ThemeProvider>\n        </MuiThemeProvider>\n      </StylesProvider>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = { currentTheme: \"DEFAULT\" };\n\nconst themeSlice = createSlice({\n  name: \"theme\",\n  initialState,\n  reducers: {\n    setTheme(state, action) {\n      state.currentTheme = action.payload;\n    },\n  },\n  extraReducers: {},\n});\n\nexport const { setTheme } = themeSlice.actions;\n\nexport default themeSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\"\n\nimport themeReducer from \"./slice/theme\"\nimport userReducer from \"./slice/user\"\n\nconst preloadedState = {}\n\nconst store = configureStore({\n  reducer : {\n    theme    : themeReducer,\n    user     : userReducer,\n  },\n  devTools: process.env.NODE_ENV !== \"production\",\n  preloadedState,\n})\n\nexport default store\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport {Provider} from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}